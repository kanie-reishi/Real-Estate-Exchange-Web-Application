<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>RealEstate.com</title>
    <!-- Font Awesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Bootstrap CSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!--PhotoSwipe CSS-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/5.4.4/photoswipe.min.css"
        integrity="sha512-LFWtdAXHQuwUGH9cImO9blA3a3GfQNkpF2uRlhaOpSbDevNyK1rmAjs13mtpjvWyi+flP7zYWboqY+8Mkd42xA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <!-- Custom CSS-->
    <link rel="stylesheet" href="/css/output.css">
</head>

<body
    class="overflow-x-hidden scrollbar-thin scrollbar-thumb-black-v3 scrollbar-thumb-rounded-full scrollbar-track-rounded-full w-screen h-screen relative">
    <div>
        <div>
            <!-- Navbar-->
            <header class="fixed top-0 left-0 w-full bg-white shadow-md z-50">

                <div class="fresnel-container fresnel-greaterThanOrEqual-lg">
                    <nav class="shadow shadow-[inset_0_-1px_0_#ececec] bg-white navbar navbar-expand-lg navbar-light">
                        <div class="flex items-center justify-between container-fluid">
                            <div class="text-xl font-semibold text-gray-700 flex-shrink-0 md:w-100">
                                <h1 class="d-flex items-center justify-between">
                                    <a class="text-2xl font-bold text-gray-800 transition-colors duration-300 transform lg:text-2xl hover:text-gray-700"
                                        href="/">RealEstate.com</a>
                                    <div class="d-lg-none d-flex align-items-center gap-2">
                                        <div class="dropdown" id="likeDropdownMobile">
                                            <button class="btn dropdown-toggle likeButton" data-bs-toggle="dropdown"
                                                data-bs-display="static" aria-expanded="false">
                                                <i class="fa-regular fa-heart text-[1.25rem]"></i>
                                            </button>
                                            <ul class="dropdown-menu dropdown-menu-end" id="likedPropertiesDropdown">
                                                <li class="dropdown-header">Yêu thích</li>
                                                <li><span class="dropdown-item text-muted">Chưa có bất động sản yêu
                                                        thích</span></li>
                                            </ul>
                                        </div>
                                        <button data-bs-target="#navbarNav" data-bs-toggle="collapse" type="button"
                                            class="navbar-toggler" aria-controls="navbarNav" aria-expanded="false">
                                            <span class="navbar-toggler-icon"></span>
                                        </button>
                                    </div>
                                </h1>
                            </div>
                            <div class="lg:flex-row lg:items-center mx-1 navbar-collapse collapse lg:justify-between"
                                id="navbarNav">
                                <div class="navbar-nav">
                                    <div class="relative nav-item">
                                        <a class="nav-link px-[0.625rem] py-[0.5rem] text-sm font-semibold transition-colors duration-300 transform rounded-[1.25rem] hover:bg-gray-v3 whitespace-nowrap text-black-v8"
                                            href="#">Mua bán</a>
                                    </div>
                                    <div class="relative nav-item">
                                        <a class="nav-link px-[0.625rem] py-[0.5rem] text-sm font-semibold transition-colors duration-300 transform rounded-[1.25rem] hover:bg-gray-v3 whitespace-nowrap text-black-v8"
                                            href="#">Cho thuê</a>
                                    </div>
                                    <div class="relative nav-item">
                                        <a class="nav-link px-[0.625rem] py-[0.5rem] text-sm font-semibold transition-colors duration-300 transform rounded-[1.25rem] hover:bg-gray-v3 whitespace-nowrap text-black-v8"
                                            href="#">Sang nhượng</a>
                                    </div>
                                    <div class="relative nav-item">
                                        <a class="nav-link px-[0.625rem] py-[0.5rem] text-sm font-semibold transition-colors duration-300 transform rounded-[1.25rem] hover:bg-gray-v3 whitespace-nowrap text-black-v8"
                                            href="#">Dự án</a>
                                    </div>
                                    <div class="relative nav-item">
                                        <a class="nav-link px-[0.625rem] py-[0.5rem] text-sm font-semibold transition-colors duration-300 transform rounded-[1.25rem] hover:bg-gray-v3 whitespace-nowrap text-black-v8"
                                            href="#">Tin tức</a>
                                    </div>
                                    <div class="relative nav-item">
                                        <a class="nav-link px-[0.625rem] py-[0.5rem] text-sm font-semibold transition-colors duration-300 transform rounded-[1.25rem] hover:bg-gray-v3 whitespace-nowrap text-black-v8"
                                            href="#">Liên hệ</a>
                                    </div>
                                    <div class="relative nav-item">
                                        <a class="nav-link px-[0.625rem] py-[0.5rem] text-sm font-semibold transition-colors duration-300 transform rounded-[1.25rem] hover:bg-gray-v3 whitespace-nowrap text-black-v8"
                                            href="#">Về chúng tôi</a>
                                    </div>
                                </div>
                                <!-- Phần hiển thị trên Desktop -->
                                <div class="d-none d-lg-flex align-items-center ms-auto">
                                    <!-- Nút Like -->
                                    <div class="dropdown me-3">
                                        <button class="btn dropdown-toggle likeButton" data-bs-toggle="dropdown">
                                            <i class="fa-regular fa-heart text-[1.25rem]"></i>
                                        </button>
                                        <ul class="dropdown-menu" id="likedPropertiesDropdown">
                                            <li class="dropdown-header">Yêu thích</li>
                                            <li><span class="dropdown-item text-muted">Chưa có bất động sản yêu
                                                    thích</span></li>
                                        </ul>
                                    </div>

                                    <!-- Nút Đăng nhập (hoặc Dropdown User nếu đã đăng nhập) -->
                                    <div id="desktop-login-group" class="me-3">
                                        <button id="btn-navbar-login" class="btn px-3 py-2 btn btn-outline-primary nav-link" data-bs-toggle="modal" data-bs-target="#loginModal">
                                            <i class="fa-regular fa-user"></i> Đăng ký/ Đăng nhập
                                        </button>

                                        <div class="dropdown" id="userDropdown" style="display: none;">
                                            <button class="btn dropdown-toggle" id="userMenuButton"
                                                data-bs-toggle="dropdown">
                                                <i class="fa-regular fa-user"></i> <span id="username-display"></span>
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li><a class="dropdown-item" href="/settings">Cài đặt</a></li>
                                                <li><button class="dropdown-item" id="btn-logout">Đăng xuất</button>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- Nút Đăng tin -->
                                    <a href="/realestate/create"
                                        class="btn btn-primary ms-3 px-4 py-2 text-white font-semibold rounded-full hover:bg-primary-dark">
                                        <i class="fa-solid fa-plus me-2"></i>Đăng tin
                                    </a>
                                </div>

                                <!-- Phần dành riêng cho Mobile -->
                                <div class="d-lg-none">
                                    <ul class="navbar-nav">
                                        <!-- Nút Đăng nhập -->
                                        <li id="mobile-login" class="nav-item mb-2">
                                            <button class="nav-link btn btn-outline-primary w-100"
                                                data-bs-toggle="modal" data-bs-target="#loginModal">
                                                <i class="fa-regular fa-user"></i> Đăng ký/ Đăng nhập
                                            </button>
                                        </li>
                                        <!-- Nút Đăng tin -->
                                        <li class="nav-item mb-2">
                                            <a href="/realestate/create"
                                                class="btn btn-primary px-4 py-2 text-white font-semibold rounded-full hover:bg-primary-dark">
                                                <i class="fa-solid fa-plus me-2"></i>Đăng tin
                                            </a>
                                        </li>
                                        <!-- Dropdown Cài đặt & Đăng xuất -->
                                        <li id="mobile-user-dropdown" class="nav-item dropdown d-none mb-2">
                                            <button class="nav-link dropdown-toggle w-100" data-bs-toggle="dropdown">
                                                <i class="fa-regular fa-user"></i> <span
                                                    id="mobile-username-display"></span>
                                            </button>
                                            <ul class="dropdown-menu w-100">
                                                <li><a class="dropdown-item" href="/settings">Cài đặt</a></li>
                                                <li><button class="dropdown-item" id="mobile-btn-logout">Đăng
                                                        xuất</button></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </nav>
                </div>
            </header>
            <main class="relative lg:top-[76px] w-screen top-[104px]">
                <div>
                    <div class="flex-1 grow">
                        <div class="layout">
                            <div
                                class="flex justify-end items-center space-x-4 text-base font-medium text-black-v7 mb-4 mt-5 px-4 xl:px-0">
                                <button aria-label="button-favorite" class="flex items-center cursor-pointer">
                                    <i class="ml ml-favorite text-[1.25rem] text-black-v6"></i>
                                    <span class="ml-1 text-black-v7">Lưu</span>
                                </button>
                                <div class="w-[1px] h-5 bg-black-v3"></div>
                                <button aria-label="button-compare" class="flex items-center">
                                    <span class="ml ml-compare text-[1.25rem]">
                                        <span class="path1 text-white"></span>
                                        <span class="path2 text-white"></span>
                                        <span class="path3"></span>
                                    </span>
                                    <span class="ml-1 text-black-v7">So sánh</span>
                                </button>
                                <div class="w-[1px] h-5 bg-black-v3"></div>
                                <button aria-label="button-share" class="flex items-center cursor-pointer"
                                    type="button">
                                    <i class="ml ml-share text-[1.25rem] text-black-v6"></i>
                                    <span class="ml-1">Chia sẻ</span>
                                </button>
                                <div class="w-[1px] h-5 bg-black-v3"></div>
                                <div class="flex items-center cursor-pointer">
                                    <i class="ml text-[1.25rem] mr-1 ml-note_add text-black-v6"></i>
                                    <span class="">Ghi chú</span>
                                </div>
                            </div>
                            <div>
                                <h1 th:text="${mode == 'preview' ? 'Xem trước tin đăng' : 'Chi tiết tin đăng'}">
                                </h1>
                                <div th:if="${mode != 'preview'}">
                                    <!-- Các nút chỉnh sửa/lưu chỉ hiển thị nếu không phải chế độ preview -->
                                    <button>Chỉnh sửa</button>
                                    <button>Lưu</button>
                                </div>
                                <div th:if="${mode == 'preview'}">
                                    <!-- Nút đăng tin chỉ hiển thị nếu là chế độ preview -->
                                    <button>Duyệt tin</button>
                                </div>
                            </div>
                            <div class="relative mb-4 flex gap-6" id="image">

                            </div>
                            <div class="grid grid-cols-3 gap-6">
                                <div class="col-span-3 lg:col-span-2">
                                    <div class="w-full">
                                        <div class="fresnel-container fresnel-lessThan-lg "></div>
                                        <div class="fresnel-container fresnel-greaterThanOrEqual-lg ">
                                            <div
                                                class="flex items-start space-x-[0.875rem] mb-[1.875rem] text-black-v8 px-4 lg:px-0">
                                                <div class="w-full">
                                                    <h1 class="text-lg font-semibold line-clamp-2 mb-[0.625rem] text-[#2b2b2b]"
                                                        id="title">
                                                    </h1>
                                                    <div
                                                        class="h-[1.375rem] flex items-start justify-between text-base space-x-4">
                                                        <p class="line-clamp-2" id="address"></p>
                                                        <p class="flex-shrink-0" id="createDate"></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="fresnel-container fresnel-greaterThanOrEqual-lg ">
                                            <div>
                                                <div class="flex justify-between py-5 border-t border-b border-gray-v1">
                                                    <div class="text-black-v6 h-[4.5rem] basis-auto flex-grow">
                                                        <p class="text-base mb-[2px]">Giá bán</p>
                                                        <h3 class="text-lg font-semibold text-black-v8" id="h3-price">
                                                        </h3>
                                                        <span class="text-xs" id="price"></span>
                                                    </div>
                                                    <div
                                                        class="text-black-v6 h-[4.5rem] basis-auto flex-grow pl-4 border-l border-gray-v1">
                                                        <p class="text-base mb-[2px]">Diện tích</p>
                                                        <h3 class="text-lg font-semibold text-black-v8" id="h3-acreage">
                                                        </h3>
                                                    </div>
                                                    <div
                                                        class="text-black-v6 h-[4.5rem] basis-auto flex-grow pl-4 border-l border-gray-v1">
                                                        <p class="text-base mb-[2px]">Phòng ngủ</p>
                                                        <h3 class="text-lg font-semibold text-black-v8" id="h3-bedroom">
                                                        </h3>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="fresnel-container fresnel-lessThan-lg "></div>
                                        <div class="px-4 lg:px-0">
                                            <div class="py-6 lg:py-8 lg:border-t border-gray-v1">
                                                <h3 class="text-lg font-semibold text-black-v8 mb-5">Thông tin mô tả
                                                </h3>
                                                <div class="text-black-v8 text-base lg:text-sm">
                                                    <div class="overflow-hidden" style="max-height: 340px;">
                                                        <div style="overflow-wrap: break-word; display: block;">
                                                            <div class="text-base text-black-v8 leading-[1.875rem]"
                                                                style="display: inline-block;" id="description">
                                                            </div>
                                                            <button
                                                                class="flex items-center my-auto text-secondary font-medium cursor-pointer text-sm lg:text-base"
                                                                type="button" aria-label="button-view-more">
                                                                <span class="hover:underline">
                                                                    <span>Xem thêm
                                                                        <span class="hidden lg:inline">mô tả</span>
                                                                    </span>
                                                                </span>
                                                                <i
                                                                    class="ml ml-expand_more text-secondary text-[1rem]"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="py-6 lg:py-8 border-t border-gray-v1" id="Property">
                                                <h3 class="text-lg font-semibold text-black-v8 mb-5">Thông tin cơ bản
                                                </h3>
                                                <div class="flex text-base text-black-v8 py-2 space-x-8">
                                                    <p class="w-1/3 flex-shrink-0 lg:w-1/4 lg:min-w-[11.125rem]">Loại
                                                        nhà đất
                                                        <span class="lg:inline">:</span>
                                                    </p>
                                                    <p class="font-medium line-clamp-2">Nhà riêng </p>
                                                </div>
                                                <div class="flex text-base text-black-v8 py-2 space-x-8">
                                                    <p class="w-1/3 flex-shrink-0 lg:w-1/4 lg:min-w-[11.125rem]">Diện
                                                        tích
                                                        <span class="lg:inline">:</span>
                                                    </p>
                                                    <p class="font-medium line-clamp-2" id="p-acreage"></p>
                                                </div>
                                                <div class="flex text-base text-black-v8 py-2 space-x-8">
                                                    <p class="w-1/3 flex-shrink-0 lg:w-1/4 lg:min-w-[11.125rem]">Số
                                                        phòng ngủ
                                                        <span class="lg:inline">:</span>
                                                    </p>
                                                    <p class="font-medium line-clamp-2" id="p-bedroom"></p>
                                                </div>
                                                <div class="flex text-base text-black-v8 py-2 space-x-8">
                                                    <p class="w-1/3 flex-shrink-0 lg:w-1/4 lg:min-w-[11.125rem]">Số
                                                        phòng tắm/ Toilet
                                                        <span class="lg:inline">:</span>
                                                    </p>
                                                    <p class="font-medium line-clamp-2"></p>
                                                </div>
                                            </div>
                                            <div class="py-6 lg:py-8 border-t border-gray-v1">
                                                <h3 class="text-lg font-semibold text-black-v8 mb-5">Thông tin chi tiết
                                                </h3>
                                                <div>
                                                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-6">
                                                        <div>
                                                            <div
                                                                class="fresnel-container fresnel-greaterThanOrEqual-lg ">
                                                                <div
                                                                    class="flex py-3 px-4 text-base text-black-v8 space-x-4 rounded-lg justify-between bg-gray-v4">
                                                                    <p class="flex-grow flex-shrink-0">Mặt tiền</p>
                                                                    <div
                                                                        class="fresnel-container fresnel-greaterThanOrEqual-xl ">
                                                                        <p class="font-medium line-clamp-1">6 m</p>
                                                                    </div>
                                                                    <div class="fresnel-container fresnel-lessThan-xl ">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="fresnel-container fresnel-lessThan-lg "></div>
                                                        </div>
                                                        <div>
                                                            <div
                                                                class="fresnel-container fresnel-greaterThanOrEqual-lg ">
                                                                <div
                                                                    class="flex py-3 px-4 text-base text-black-v8 space-x-4 rounded-lg justify-between bg-gray-v4">
                                                                    <p class="flex-grow flex-shrink-0">Số tầng</p>
                                                                    <div
                                                                        class="fresnel-container fresnel-greaterThanOrEqual-xl ">
                                                                        <p class="font-medium line-clamp-1">6</p>
                                                                    </div>
                                                                    <div class="fresnel-container fresnel-lessThan-xl ">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="fresnel-container fresnel-lessThan-lg "></div>
                                                        </div>
                                                        <div>
                                                            <div
                                                                class="fresnel-container fresnel-greaterThanOrEqual-lg ">
                                                                <div
                                                                    class="flex py-3 px-4 text-base text-black-v8 space-x-4 rounded-lg justify-between">
                                                                    <p class="flex-grow flex-shrink-0">Loại hình BĐS</p>
                                                                    <div
                                                                        class="fresnel-container fresnel-greaterThanOrEqual-xl ">
                                                                        <p class="font-medium line-clamp-1">Nhà thổ cư
                                                                        </p>
                                                                    </div>
                                                                    <div class="fresnel-container fresnel-lessThan-xl ">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="fresnel-container fresnel-lessThan-lg "></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="py-6 lg:py-8 border-t border-gray-v1">
                                                <h3 class="text-lg font-semibold text-black-v8 mb-5">Tiện ích</h3>
                                                <div class="grid grid-cols-2 lg:grid-cols-3 gap-x-4">
                                                    <div class="py-3 flex">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="py-6 lg:py-8 border-t border-gray-v1">
                                                <h3 class="text-lg font-semibold text-black-v8 mb-5">Nội thất, thiết bị
                                                </h3>
                                                <div class="grid grid-cols-2 lg:grid-cols-3 gap-x-4">
                                                </div>
                                            </div>
                                            <div class="fresnel-container fresnel-greaterThanOrEqual-lg ">
                                                <div class="py-6 lg:py-8 border-t border-gray-v1">
                                                    <h3 class="text-lg font-semibold text-black-v8 mb-5">Ưu điểm BĐS
                                                    </h3>


                                                </div>
                                            </div>
                                            <div class="fresnel-container fresnel-lessThan-lg "></div>
                                        </div>
                                        <div class="fresnel-container fresnel-greaterThanOrEqual-lg "></div>
                                        <div class="px-4 lg:px-0">
                                            <div class="py-6 lg:py-8" id="lazy-load-wrapper">
                                                <h3 class="text-lg font-semibold text-black-v8 mb-5">Vị trí trên bản đồ
                                                </h3>
                                                <div class="overflow-hidden" style="height: 240px;">
                                                    <div id="mapid" style="height: 240px;"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="fresnel-container fresnel-greaterThanOrEqual-lg ">
                                    <div class="grid grid-cols-1 gap-y-6">
                                        <div class="bg-white w-full h-fit rounded-lg default-shadow py-4 lg:p-5">
                                            <div class="flex space-x-3">
                                                <span
                                                    class="w-14 h-14 bg-black-v4 text-xl flex text-center items-center justify-center text-white flex-shrink-0 rounded-full">H</span>
                                                <div class="text-black-v8 flex flex-col justify-between">
                                                    <div class="font-semibold text-lg break-word" id="customer-name">
                                                        Test Agent</div>
                                                    <p class="text-sm text-[#626262]">Môi giới</p>
                                                </div>
                                            </div>
                                            <div class="w-full h-[1px] bg-gray-v1 mt-4"></div>
                                            <div class="text-sm text-black-v8">
                                                <div class="flex items-center mt-4">
                                                </div>
                                                <div class="flex space-x-2.5 mt-6 text-base font-semibold mb-3"></div>
                                                <button
                                                    class="button-primary w-full px-5 h-11 flex justify-center items-center whitespace-nowrap"
                                                    aria-label="button-phone">
                                                    <i class="ml ml-phone text-white text-[1.25rem] mr-2"></i>
                                                    <span class="text-base mr-4" id="customer-phone">0123456</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            </main>
            <footer class="bg-gray-900 text-white py-10">
                <div class="container mx-auto flex flex-wrap justify-between">
                    <div class="w-full md:w-1/4 mb-6">
                        <h3 class="text-xl font-bold">RealEstate.com</h3>
                        <p class="text-gray-400 mt-2">Trang web mua bán, cho thuê bất động sản hàng đầu Việt Nam.</p>
                    </div>
                    <div class="w-full md:w-1/4 mb-6">
                        <h3 class="text-xl font-bold">Liên hệ</h3>
                        <p class="text-gray-400">123 Đường ABC, Quận XYZ, TP. HCM</p>
                        <p class="text-gray-400">Email: contact@realestate.com</p>
                        <p class="text-gray-400">Điện thoại: 0123456789</p>
                    </div>
                    <div class="w-full md:w-1/4 mb-6">
                        <h3 class="text-xl font-bold">Kết nối</h3>
                        <div class="flex space-x-4">
                            <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook fa-2x"></i></a>
                            <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-youtube fa-2x"></i></a>
                            <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-twitter fa-2x"></i></a>
                        </div>
                    </div>
                </div>
            </footer>            
            <!-- Modal Login -->
            <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div class="_58cdb">
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="text-center">
                                <h5 class="modal-title _8a2a5" id="loginModalLabel">Đăng nhập</h5>
                            </div>
                            <form action="#">
                                <div class="mb-3">
                                    <label for="email" class="form-label" style="font-weight: 500;
                            font-size: 13px;
                            color: #646464;
                            line-height: 20px;
                            margin-bottom: 4px;">Số điện thoại/
                                        Email</label>
                                    <div class="_41aa8">
                                        <span class="_21450 _56724">
                                        </span>
                                        <input type="text" class="form-control _0fdc7" id="inp-login-username"
                                            aria-describedby="emailHelp" placeholder="Nhập số điện thoại/ Email">
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="password" class="form-label" style="font-weight: 500;
                                font-size: 13px;
                                color: #646464;
                                line-height: 20px;
                                margin-bottom: 4px;">Mật khẩu</label>
                                    <div class="_41aa8">
                                        <span class="_21450 _15981">
                                        </span>
                                        <input type="password" class="form-control _0fdc7" id="inp-login-password"
                                            placeholder="Nhập mật khẩu">
                                        <span class="_21450 password-hide _4ba06 password-visibility"
                                            style="width: 70px">
                                        </span>
                                    </div>
                                </div>
                                <div style="margin-bottom:1.5rem" class="_915e5">
                                    <button style="text-align: right;font-size: 15px;" class="_3c7f2 _85f51">Quên mật
                                        khẩu?</button>
                                </div>
                                <div class="_915e5" style="margin-bottom:1rem">
                                    <button class="_3c7f2 _8272b" id="btn-login">Đăng nhập</button>
                                </div>
                            </form>
                            <div class="text-center" style="margin-bottom:1.5rem">
                                <span>
                                    Bạn chưa có tài khoản?
                                    <button class="btn btn-link _85f51" data-bs-toggle="modal"
                                        data-bs-target="#registerModal" data-bs-dismiss="modal">Đăng ký
                                    </button>
                                </span>
                            </div>
                            <div class="text-center">
                                <span>Hoặc đăng nhập bằng</span>
                            </div>
                            <div class="_915e5 b2acb _68c1f">
                                <button class="_3c7f2 d633f aa3b1 b7a08"><i
                                        class="fa-brands fa-facebook social-icon"></i></button>
                                <button class="_3c7f2 d633f aa3b1 b7a08"><i
                                        class="fa-brands fa-google social-icon"></i></button>
                            </div>
                            <div class="text-center" style="margin-bottom:1.5rem">
                                <p style="font-size: 13px;">
                                    Bằng cách đăng nhập, bạn xác nhận và đồng ý với Điều khoản dịch vụ và Chính sách bảo
                                    mật của
                                    chúng
                                    tôi
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Modal Register -->
            <div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div class="_58cdb">
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="text-center">
                                <h5 class="modal-title _8a2a5" id="registerModalLabel">Đăng ký tài khoản</h5>
                            </div>
                            <form action="#">
                                <div class="mb-3">
                                    <label for="username" class="form-label" style="font-weight: 500;
                                    font-size: 13px;
                                    color: #646464;
                                    line-height: 20px;
                                    margin-bottom: 4px;">Tên người dùng</label>
                                    <div class="_41aa8">
                                        <span class="_21450 _56724">
                                        </span>
                                        <input type="text" class="form-control _0fdc7" id="inp-register-username"
                                            aria-describedby="emailHelp" placeholder="Họ và tên">
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="email" class="form-label" style="font-weight: 500;
                                    font-size: 13px;
                                    color: #646464;
                                    line-height: 20px;
                                    margin-bottom: 4px;">
                                        Email</label>
                                    <div class="_41aa8">
                                        <span class="_21450 _56724">
                                        </span>
                                        <input type="email" class="form-control _0fdc7" id="inp-register-email" aria-describedby="emailHelp"
                                            placeholder="Email">
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="password" class="form-label" style="font-weight: 500;
                                    font-size: 13px;
                                    color: #646464;
                                    line-height: 20px;
                                    margin-bottom: 4px;">Mật khẩu</label>
                                    <div class="_41aa8">
                                        <span class="_21450 _15981">
                                        </span>
                                        <input type="password" class="form-control _0fdc7" id="inp-register-password"
                                            placeholder="Nhập mật khẩu">
                                        <span class="_21450 password-hide _4ba06 password-visibility" style="width:70px">
                                        </span>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="password" class="form-label" style="font-weight: 500;
                                    font-size: 13px;
                                    color: #646464;
                                    line-height: 20px;
                                    margin-bottom: 4px;">Nhập lại mật khẩu</label>
                                    <div class="_41aa8">
                                        <span class="_21450 _15981">
                                        </span>
                                        <input type="password" class="form-control _0fdc7" id="inp-register-repeat-password"
                                            placeholder="Nhập lại mật khẩu">
                                        <span class="_21450 password-hide _4ba06 password-visibility" style="width:70px">
                                        </span>
                                    </div>
                                </div>
                                <div class="_915e5" style="margin-bottom:1rem">
                                    <button class="_3c7f2 _8272b">Đăng ký</button>
                                </div>
                            </form>
                            <div class="text-center" style="margin-bottom:1.5rem">
                                <span>
                                    Bạn đã có tài khoản?
                                    <button class="btn btn-link _85f51" data-bs-toggle="modal" data-bs-target="#registerModal"
                                        data-bs-dismiss="modal">Đăng nhập
                                    </button>
                                </span>
                            </div>
                            <div class="text-center" style="margin-bottom:1.5rem">
                                <span>Hoặc đăng nhập bằng</span>
                            </div>
                            <div class="_915e5 b2acb _68c1f">
                                <button class="_3c7f2 d633f aa3b1 b7a08"><i
                                        class="fa-brands fa-facebook social-icon"></i></button>
                                <button class="_3c7f2 d633f aa3b1 b7a08"><i
                                        class="fa-brands fa-google social-icon"></i></button>
                            </div>
                            <div class="text-center" style="margin-bottom:1.5rem">
                                <p style="font-size: 13px;">
                                    Bằng cách đăng ký, bạn xác nhận và đồng ý với Điều khoản dịch vụ và Chính sách bảo mật của
                                    chúng tôi
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Jquery -->
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
            <!-- Bootstrap JS-->
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
                crossorigin="anonymous"></script>
            <!-- PhotoSwipe JS-->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/5.4.4/photoswipe-lightbox.esm.min.js"
                type="module"
                integrity="sha512-S9RkWnGja84tXKFxTN7iLVP3pUCsnfqnF+0ZK2CSOhmCqa6lxoutHUoizBVnqCIsH8HW7e/3u9HEOOwlR01TLA=="
                crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
                integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
            <!-- Custom JS-->
            <script src="/js/user-login.js"> </script>
            <script src="/js/user-register.js"> </script>
            <script type="module">
                /*** REGION 1 - Global variables - Vùng khai báo biến, hằng số, tham số TOÀN CỤC */

                /*** REGION 2 - Vùng gán / thực thi hàm xử lý sự kiện cho các elements */
                $(document).ready(function () {
                    loadRealEstateDetail();
                });
                /*** REGION 3 - Event handlers - Vùng khai báo các hàm xử lý sự kiện */

                /*** REGION 4 - Common funtions - Vùng khai báo hàm dùng chung trong toàn bộ chương trình*/
                function loadRealEstateDetail() {
                    // Get real estate id from path variable
                    var url = window.location.href;
                    var realEstateId = url.split('/').pop().split('#')[0];
                    console.log(realEstateId);
                    $.ajax({
                        url: "http://localhost:8080/realestate/" + realEstateId + "/detail",
                        type: "GET",
                        contentType: "application/json",
                    }).then(function (data) {
                        console.log(data);
                        renderRealEstateDetail(data);
                    });
                }
                function getQueryParam(param) {
                    const urlParams = new URLSearchParams(window.location.search);
                    return urlParams.get(param);
                }
                function renderRealEstateDetail(realEstate) {
                    // Render real estate images
                    var images = realEstate.photoUrls;
                    var imageHtml = '';
                    for (var i = 0; i < images.length; i++) {
                        imageHtml += '<a href="' + images[i] + '" data-pswp-width="2500" data-pswp-height="1800" target="_blank"><img src="' + images[i] + '" alt="Image" class="image-fill mx-auto mx-auto rounded-lg" width="330" height="220"></a>';
                    }
                    $('#image').html(imageHtml);
                    // Render real estate detail
                    $('#title').text(realEstate.title);
                    $('#p-price').text(realEstate.price + ' ' + "Tỷ");
                    $('#address').text(realEstate.addressDetail.addressDetail);
                    $('#description').text(realEstate.description);
                    $('#h3-acreage').text(realEstate.acreage + ' ' + realEstate.acreageUnit);
                    $('#p-acreage').text(realEstate.acreage + ' ' + realEstate.acreageUnit);
                    $('#h3-price').text(realEstate.price + ' ' + realEstate.priceUnit);
                    $('#h3-bedroom').text(realEstate.bedroom);
                    $('#p-bedroom').text(realEstate.bedroom);
                    $('#createDate').text(convertDate(realEstate.dateCreate));
                    $('#customer-name').text(realEstate.customer.fullName);
                    $('#customer-phone').text(realEstate.customer.phone);

                    // Render real estate location
                    var map = L.map('mapid').setView([realEstate.addressDetail.latitude, realEstate.addressDetail.longitude], 13);

                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                        maxZoom: 19,
                    }).addTo(map);
                    // Add a marker to the map
                    var marker = L.marker([realEstate.addressDetail.latitude, realEstate.addressDetail.longitude]).addTo(map);
                }
                // Hàm đổi date
                function convertDate(paramDate) {
                    var date = new Date(paramDate);
                    var day = date.getDate();
                    var month = date.getMonth() + 1; // Months are zero based
                    var year = date.getFullYear();
                    return day + '/' + month + '/' + year;
                }
            </script>
            <script type='module'>
                import PhotoSwipeLightbox from 'https://cdn.jsdelivr.net/npm/photoswipe@5.3.7/dist/photoswipe-lightbox.esm.js';
                const lightbox = new PhotoSwipeLightbox({
                    gallery: '#image',
                    children: 'a',
                    pswpModule: () => import('https://cdn.jsdelivr.net/npm/photoswipe@5.3.7/dist/photoswipe.esm.js')
                });
                lightbox.init();
            </script>
            <script>
                var map = L.map('mapid').setView([realEstate.addressDetail.latitude, realEstate.addressDetail.longitude], 13);

                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    maxZoom: 19,
                }).addTo(map);
                // Add a marker to the map
                var marker = L.marker([10.773611, 106.667222]).addTo(map);
            </script>
</body>

</html>